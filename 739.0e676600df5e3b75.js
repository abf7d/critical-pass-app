"use strict";(self.webpackChunkcritical_web=self.webpackChunkcritical_web||[]).push([[739],{7007:(I,L,p)=>{p.d(L,{J:()=>N});var d=p(9212),m=p(3633),w=p(4595),P=p(3920);let C=(()=>{class f{constructor(i,o){this.dashboard=i,this.ngZone=o}init(i,o,l,g,h,s){this.id=l,this.width=i,this.height=o,this.slot=s,this.initSvg(i,o,h),this.data=s&&s===w.oG?this.dashboard.secondaryProject$:this.dashboard.activeProject$,this.sub=this.data.subscribe(b=>{this.ngZone.runOutsideAngular(()=>{this.createChart(b)})})}renderStatic(i,o,l,g,h=!0){null!=i&&(this.width=+o,this.height=+l,i.profile.view.autoZoom=h,i.profile.view.toggleZoom=h,this.initSvg(o,l,g),this.createChart(i))}destroy(){this.sub&&this.sub.unsubscribe()}initSvg(i,o,l){const g=`arrow-snapshot-${this.id}`;P.Ys(l).select("svg").remove();const h=P.Ys(l).append("svg").attr("class",g);h.style("width","100%").style("height",null).attr("preserveAspectRatio","xMinYMin meet").attr("viewBox",`0 0 ${i} ${o}`),this.svg=h.append("g")}createChart(i){if(this.svg.selectAll("g.link").remove(),this.svg.selectAll("g.node").remove(),this.svg.selectAll("text.missing-data").remove(),null==i||0===i.activities.length&&0===i.integrations.length){let o="No data exists for Arrow Diagram";return this.slot===w.oG&&(o="No parent exists for this project"),this.svg.attr("transform",null),void this.svg.append("g").append("text").attr("class","missing-data").attr("y",this.height/3).attr("x",this.width/2+100).style("text-anchor","end").text(o)}if(null!=i){this.autoZoom(i);let o=this.svg.append("g").attr("class","link").selectAll("g"),l=this.svg.append("g").attr("class","node").selectAll("g");const g=i.activities.filter(s=>!s.chartInfo.milestoneNodeId);o=o.data(g,s=>s.profile.id).enter().append("g").attr("class",s=>null===s.chartInfo.tf||s.chartInfo.tf===1/0?s.chartInfo.isDummy?"unprocessed dummy":"unprocessed":s.chartInfo.isDummy?"dummy risk-"+s.chartInfo.risk:"risk-"+s.chartInfo.risk),o.append("svg:path").attr("class","link").classed("dummy",s=>s.chartInfo.isDummy).style("marker-end",s=>null===s.chartInfo.tf||s.chartInfo.tf===1/0?"url(#s-end-u)":"url(#s-end-"+s.chartInfo.risk+")").attr("d",s=>this.getPath(s)),l=l.data(i.integrations).enter().append("g").attr("class",s=>null===s.lft||s.lft===1/0?"unprocessed ":"risk-"+s.risk).classed("milestone",s=>s.isMilestone).attr("transform",s=>`translate(${s.x}, ${s.y})`),l.append("circle").attr("r",9).attr("class","node").classed("dummy",s=>s.isDummy);const h=this.svg.append("svg:defs").selectAll("marker");this.buildArrowHeads(h,"s-end-0","risk-0"),this.buildArrowHeads(h,"s-end-1","risk-1"),this.buildArrowHeads(h,"s-end-2","risk-2"),this.buildArrowHeads(h,"s-end-3","risk-3"),this.buildArrowHeads(h,"s-end-undefined","risk-undefined"),this.buildArrowHeads(h,"s-end-u","unprocessed")}}getPath(i){if(void 0===i.chartInfo?.target?.x||void 0===i.chartInfo?.target?.y||void 0===i.chartInfo?.source?.x||void 0===i.chartInfo?.source?.y)return console.error("getPath point undefined"),"M";if(i.chartInfo.dPath)return i.chartInfo.dPath;i.chartInfo?.target?.x==i.chartInfo?.source?.x&&i.chartInfo?.target?.y==i.chartInfo?.source?.y&&(i.chartInfo.target.x+=10,i.chartInfo.target.y+=10),i.chartInfo.target_id===i.chartInfo.source_id&&console.error("getPath arrow source === target");const o=i.chartInfo.target.x-i.chartInfo.source.x,l=i.chartInfo.target.y-i.chartInfo.source.y,g=Math.sqrt(o*o+l*l),h=o/g,s=l/g,M=i.chartInfo.source.x+9*h,Z=i.chartInfo.source.y+9*s,A=i.chartInfo.target.x-14*h,O=i.chartInfo.target.y-14*s;return isNaN(M)||isNaN(Z)||isNaN(A)||isNaN(O)?(console.error("getPath point NaN",i),"M"):"M"+M+","+Z+"L"+A+","+O}autoZoom(i){const o=i.integrations.map(y=>y.x).filter(y=>void 0!==y),l=i.integrations.map(y=>y.y).filter(y=>void 0!==y),g=Math.max(...o),h=Math.min(...o),s=Math.max(...l),b=Math.min(...l),O=(g+h)/2,T=(s+b)/2,k=.9/Math.max((g-h)/this.width,(s-b)/this.height),x=[this.width/2-k*O-0,this.height/2-k*T-0];isNaN(k)||isNaN(x[0])||isNaN(x[1])||x[0]===-1/0||x[1]===-1/0||k===1/0||this.svg.attr("transform","translate("+x+")scale("+k+")")}buildArrowHeads(i,o,l){i=i.data([o]).enter().append("svg:marker").attr("id",String).attr("viewBox","0 -5 10 10").attr("refX",6).attr("markerWidth",3).attr("markerHeight",3).attr("orient","auto").attr("class",l).append("svg:path").attr("d","M0,-5L10,0L0,5")}static#t=this.\u0275fac=function(o){return new(o||f)(d.LFG(m.Ou),d.LFG(d.R0b))};static#e=this.\u0275prov=d.Yz7({token:f,factory:f.\u0275fac})}return f})();const t=["chart"];let N=(()=>{class f{constructor(){this.ui=(0,d.f3M)(C)}ngOnInit(){this.project?this.ui.renderStatic(this.project,this.width,this.height,this.chart.nativeElement):this.ui.init(this.width,this.height,this.id,this.parentId,this.chart.nativeElement,this.slot)}ngOnDestroy(){this.ui.destroy()}ngOnChanges(i){i.refresh?.currentValue&&this.project&&this.ui.renderStatic(this.project,this.width,this.height,this.chart.nativeElement,!1)}static#t=this.\u0275fac=function(o){return new(o||f)};static#e=this.\u0275cmp=d.Xpm({type:f,selectors:[["cp-arrow-snapshot"]],viewQuery:function(o,l){if(1&o&&d.Gf(t,7),2&o){let g;d.iGM(g=d.CRH())&&(l.chart=g.first)}},inputs:{id:"id",width:"width",height:"height",parentId:"parentId",project:"project",slot:"slot",refresh:"refresh"},features:[d._Bn([C]),d.TTD],decls:2,vars:0,consts:[[1,"arrow-snapshot"],["chart",""]],template:function(o,l){1&o&&d._UZ(0,"div",0,1)},styles:["cp-arrow-snapshot svg{background-color:#fff}cp-arrow-snapshot g.risk-0 circle.node{fill:#1c1}cp-arrow-snapshot g.risk-1 circle.node{fill:#ffd800}cp-arrow-snapshot g.risk-2 circle.node{fill:red}cp-arrow-snapshot g.risk-3 circle.node{fill:#000}cp-arrow-snapshot g.risk-undefined circle.node{fill:#bbb}cp-arrow-snapshot g.completed circle.node{fill:#fdf}cp-arrow-snapshot g.unprocessed circle.node{fill:#bbb}cp-arrow-snapshot svg:not(.active):not(.ctrl){cursor:pointer}cp-arrow-snapshot .simple-label{font-size:15px;font-weight:700}cp-arrow-snapshot marker.risk-0{fill:#1c1;opacity:1}cp-arrow-snapshot marker.risk-1{fill:#ffd800;opacity:1}cp-arrow-snapshot marker.risk-2{fill:red;opacity:1}cp-arrow-snapshot marker.risk-3{fill:#000;opacity:1}cp-arrow-snapshot marker.risk-undefined{fill:#bbb;opacity:1}cp-arrow-snapshot marker.completed{fill:#fdf}cp-arrow-snapshot marker.unprocessed{fill:#bbb;opacity:1}cp-arrow-snapshot .risk-0 path.link{stroke:#1c1;stroke-opacity:.4}cp-arrow-snapshot .risk-1 path.link{stroke:#ffd800;stroke-opacity:.6}cp-arrow-snapshot .risk-2 path.link{stroke:red;stroke-opacity:.6}cp-arrow-snapshot .risk-3 path.link{stroke:#000;stroke-opacity:.9}cp-arrow-snapshot .completed path.link{stroke:#fdf;stroke-opacity:.8}cp-arrow-snapshot .unprocessed path.link{stroke:#bbb;stroke-opacity:.9}cp-arrow-snapshot .risk-undefined path.link{stroke:#bbb;stroke-opacity:.9}cp-arrow-snapshot path{stroke-width:4px;opacity:1}cp-arrow-snapshot .missing-data{font-weight:700}cp-arrow-snapshot path.link{fill:none}\n"],encapsulation:2})}return f})()},739:(I,L,p)=>{p.r(L),p.d(L,{LibraryModule:()=>U});var d=p(6814),m=p(7586),w=p(2181),C=p(3633),t=p(9212),N=p(5619);let f=(()=>{class a{constructor(){this.maxProjectCount$=new N.X(null),this.pageNumber$=new N.X(null)}static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var j=p(8962),i=p(7007);function o(a,v){1&a&&(t.TgZ(0,"div",3)(1,"div",4),t._uU(2,"Loading"),t.qZA()())}function l(a,v){1&a&&(t.TgZ(0,"div",3)(1,"div",5),t._UZ(2,"img",6),t.TgZ(3,"div",7),t._uU(4,"No projects exist in your library."),t.qZA(),t.TgZ(5,"div",8),t._uU(6,"Click Examples link above or add a project through New Project button on the left or through the Spreadsheet link above."),t.qZA()()())}function g(a,v){if(1&a){const e=t.EpF();t.TgZ(0,"div",10)(1,"a",11),t.NdJ("click",function(){const c=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.navigate(c.profile.id))}),t._UZ(2,"cp-arrow-snapshot",12),t.qZA(),t.TgZ(3,"div",13),t._uU(4),t.TgZ(5,"span",14),t._uU(6," (w)"),t.qZA()(),t.TgZ(7,"div",15)(8,"i",16),t.NdJ("click",function(){const c=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.navigateSketch(c.profile.id))}),t.qZA(),t.TgZ(9,"i",17),t.NdJ("click",function(){const c=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.navigateAssign(c.profile.id))}),t.qZA(),t.TgZ(10,"i",18),t.NdJ("click",function(){const c=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.navigateMetaGraph(c.profile.id))}),t.qZA(),t._uU(11),t.qZA()()}if(2&a){const e=v.$implicit;t.xp6(2),t.Q6J("project",e)("width",300)("height",200),t.xp6(2),t.hij("",e.profile.name," "),t.xp6(7),t.hij(" ",e.profile.description," ")}}function h(a,v){if(1&a&&(t.TgZ(0,"div",3),t.YNc(1,g,12,5,"div",9),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.projects)}}let s=(()=>{class a{constructor(e,n,r,c,u,Y){this.projectApi=e,this.router=n,this.activatedRoute=r,this.libraryStore=c,this.nodeConnector=u,this.ngZone=Y,this.listName=null}ngOnInit(){this.pageSize=12,this.projects=[],this.activatedRoute.parent.paramMap.subscribe(e=>{const n=e.get("listName");this.pageNumSub=this.libraryStore.pageNumber$.pipe((0,w.h)(r=>null!==r)).subscribe(r=>{null!==r&&this.loadProjects(r,n)})})}navigate(e){this.router.navigateByUrl(`profile/(${e}//sidebar:grid/${e})`)}navigateSketch(e){this.router.navigateByUrl(`history/(${e}//sidebar:arrow/${e})`)}navigateAssign(e){this.router.navigateByUrl(`resources/(${e}//sidebar:assignbar/${e})`)}navigateMetaGraph(e){this.router.navigateByUrl(`network/(${e}//sidebar:meta/${e})`)}loadProjects(e,n=null){this.loadResult="Loading",this.subscription&&this.subscription.unsubscribe(),this.subscription=this.projectApi.list(e,this.pageSize,n).subscribe(r=>{null!==r&&(this.libraryStore.maxProjectCount$.next(r.totalCount),this.initProjects(r.items)),this.loadResult=""})}initProjects(e){this.ngZone.run(()=>{const n=[];for(const r of e)this.nodeConnector.connectArrowsToNodes(r),n.push(r);this.projects=n,this.loadResult=""})}ngOnDestroy(){this.pageNumSub&&this.pageNumSub.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(C.$6),t.Y36(m.F0),t.Y36(m.gz),t.Y36(f),t.Y36(j.E),t.Y36(t.R0b))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["cp-library-grid"]],decls:4,vars:3,consts:[["class","page-content",4,"ngIf","ngIfElse"],["class","page-content",4,"ngIf"],["charts",""],[1,"page-content"],[1,"loading-txt"],[1,"empty-txt"],["src","assets/img/placeholder.jpg",1,"placeholder"],[1,"empty-msg"],[1,"directions"],["class","user-proj",4,"ngFor","ngForOf"],[1,"user-proj"],[3,"click"],[3,"project","width","height"],[1,"simple-label"],[1,"is-writable"],[1,"project-description"],[1,"fa","fa-code-fork","network-icon",3,"click"],[1,"fas","fa-male","assign-icon",3,"click"],[1,"fa","fa-network-wired",3,"click"]],template:function(n,r){if(1&n&&t.YNc(0,o,3,0,"div",0)(1,l,7,0,"div",1)(2,h,2,1,"ng-template",null,2,t.W1O),2&n){const c=t.MAs(3);t.Q6J("ngIf",""!==r.loadResult)("ngIfElse",c),t.xp6(1),t.Q6J("ngIf",""===r.loadResult&&0===r.projects.length)}},dependencies:[d.sg,d.O5,i.J],styles:[".simple-label[_ngcontent-%COMP%]{margin-top:6px}.content-background[_ngcontent-%COMP%]{color:#666}.create-holder[_ngcontent-%COMP%]{margin-top:33px;margin-left:20px}.paging[_ngcontent-%COMP%]{margin-top:56px;color:#fff;display:flex;align-items:center;margin-left:10px;text-align:center}.page-label[_ngcontent-%COMP%]{padding:10px}.overlay[_ngcontent-%COMP%]{position:fixed;width:100vw;height:100vh;inset:0;color:#fff;background-color:#00000080;z-index:100000;cursor:pointer}.overlay-txt[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:20px;font-weight:700}i.disabled-a[_ngcontent-%COMP%]{color:#888}.loading-txt[_ngcontent-%COMP%]{position:absolute;top:41%;left:53%;transform:translate(-50%,-50%);font-weight:700}.empty-txt[_ngcontent-%COMP%]{position:absolute;top:41%;left:53%;transform:translate(-50%,-50%);font-weight:700;text-align:center}.empty-msg[_ngcontent-%COMP%]{padding:17px}.directions[_ngcontent-%COMP%]{width:282px}.placeholder[_ngcontent-%COMP%]{height:205px}.water-spacing[_ngcontent-%COMP%]{position:relative}.network-icon[_ngcontent-%COMP%], .assign-icon[_ngcontent-%COMP%]{color:#999}.assign-icon[_ngcontent-%COMP%]{margin:0 5px}i[hidden][_ngcontent-%COMP%]{display:none!important}.page-content[_ngcontent-%COMP%]{display:flex;grid-gap:20px;margin:15px;color:#666}.page-content[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);background-color:#f9f9f9}.page-content[_ngcontent-%COMP%]{padding:12px;flex-wrap:wrap}.simple-label[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.project-description[_ngcontent-%COMP%]{height:118px;overflow:hidden;line-height:23px}.user-proj[_ngcontent-%COMP%]{margin-left:15px;text-align:left;width:370px}.page-content[_ngcontent-%COMP%]{min-width:1655px;min-height:945px}.loader-container[_ngcontent-%COMP%]{height:100%;position:relative}.project-description[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}"]})}return a})();var b=p(5861),_=p(3830),M=p(9862);function Z(a,v){if(1&a){const e=t.EpF();t.TgZ(0,"a",7),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.showPeek=!1)}),t._UZ(1,"i",11),t.TgZ(2,"span"),t._uU(3,"Hide Stashed"),t.qZA()()}}function A(a,v){if(1&a){const e=t.EpF();t.TgZ(0,"a",7),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.showPeek=!0,t.KtG(r.peekStorage())}),t._UZ(1,"i",12),t.TgZ(2,"span"),t._uU(3,"View Stashed"),t.qZA()()}}function O(a,v){if(1&a&&(t.TgZ(0,"div",13),t._UZ(1,"cp-arrow-snapshot",14),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("project",e.peekProj)("width",390)("height",250)}}let T=(()=>{class a{constructor(e,n,r,c,u){this.activatedRoute=e,this.libraryStore=n,this.router=r,this.storageApi=c,this.httpClient=u,this.maxPage=0,this.currentPage=0}ngOnInit(){this.pageSize=12,this.showPeek=!1,this.activatedRoute.params.subscribe(e=>{this.currentPage=+e.page,this.sub=this.libraryStore.maxProjectCount$.pipe((0,w.h)(n=>null!==n)).subscribe(n=>{null!==n&&this.setMaxPage(n)}),this.libraryStore.pageNumber$.next(this.currentPage)}),this.hasWork=this.hasSavedWork()}setMaxPage(e){const n=Math.ceil(e/this.pageSize);this.maxPage=n-1}pageRight(){this.router.navigateByUrl(`/library/(grid/${this.currentPage+1}//sidebar:libar/${this.currentPage+1})`)}pageLeft(){this.router.navigateByUrl(`/library/(grid/${this.currentPage-1}//sidebar:libar/${this.currentPage-1})`)}hasSavedWork(){return null!==this.storageApi.get(_.H3)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}peekStorage(){var e=this;return(0,b.Z)(function*(){e.peekProj=e.peekProj??(yield e.storageApi.get(_.H3))})()}navigate(e){this.router.navigateByUrl(e)}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(m.gz),t.Y36(f),t.Y36(m.F0),t.Y36(C.$y),t.Y36(M.eN))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["cp-library-bar"]],decls:24,vars:10,consts:[[1,"sidebar"],[1,"libar-container"],["name","arrow-circle-left","inverse","true",1,"fa","fa-arrow-circle-left","fa-2x","pointer","enabled-a",3,"hidden","click"],["name","arrow-circle-left","inverse","true",1,"fa","fa-arrow-circle-left","fa-2x","pointer","disabled-a",3,"hidden"],[1,"page-label"],["inverse","true",1,"fa","fa-arrow-circle-right","fa-2x","pointer","enabled-a",3,"hidden","click"],["inverse","true",1,"fa","fa-arrow-circle-right","fa-2x","pointer","disabled-a",3,"hidden"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-secondary",3,"hidden","click"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","peek",4,"ngIf"],[1,"fas","fa-chevron-up","peek"],[1,"fas","fa-chevron-down","peek"],[1,"peek"],[3,"project","width","height"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"i",2),t.NdJ("click",function(){return r.pageLeft()}),t.qZA(),t._UZ(3,"i",3),t.TgZ(4,"div",4)(5,"div"),t._uU(6,"Navigate Library"),t.qZA(),t.TgZ(7,"div"),t._uU(8),t.qZA()(),t.TgZ(9,"i",5),t.NdJ("click",function(){return r.pageRight()}),t.qZA(),t._UZ(10,"i",6),t.qZA(),t.TgZ(11,"a",7),t.NdJ("click",function(){return r.navigate("profile/(-1//sidebar:arrow/-1)")}),t._uU(12,"New Project"),t.qZA(),t.TgZ(13,"a",7),t.NdJ("click",function(){return r.navigate("history/(-1//sidebar:arrow/-1)")}),t._uU(14,"Scenario Planning"),t.qZA(),t.TgZ(15,"a",7),t.NdJ("click",function(){return r.navigate("network/(-1//sidebar:meta/-1)")}),t._uU(16,"Network Analysis"),t.qZA(),t.TgZ(17,"a",7),t.NdJ("click",function(){return r.navigate("jira")}),t._uU(18,"Jira"),t.qZA(),t.TgZ(19,"a",8),t.NdJ("click",function(){return r.navigate("profile/(-3//sidebar:grid/-3)")}),t._uU(20,"Continue work"),t.qZA(),t.YNc(21,Z,4,0,"a",9)(22,A,4,0,"a",9)(23,O,2,3,"div",10),t.qZA()),2&n&&(t.xp6(2),t.Q6J("hidden",+r.currentPage<1),t.xp6(1),t.Q6J("hidden",+r.currentPage>0),t.xp6(5),t.AsE("Page ",r.currentPage+1," / ",r.maxPage+1,""),t.xp6(1),t.Q6J("hidden",+r.currentPage>=r.maxPage),t.xp6(1),t.Q6J("hidden",+r.currentPage<r.maxPage),t.xp6(9),t.Q6J("hidden",!r.hasWork),t.xp6(2),t.Q6J("ngIf",r.hasWork&&r.showPeek),t.xp6(1),t.Q6J("ngIf",r.hasWork&&!r.showPeek),t.xp6(1),t.Q6J("ngIf",r.showPeek&&null!==r.peekProj))},dependencies:[d.O5,i.J],styles:[".sidebar[_ngcontent-%COMP%]{text-align:center;width:100%;color:#fff;display:flex;align-items:center;flex-direction:column}.sidebar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin:1px}.libar-container[_ngcontent-%COMP%]{display:flex}.libar-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:3px}.disabled-a[_ngcontent-%COMP%]{color:#999}.peek[_ngcontent-%COMP%]{margin-right:7px}cp-arrow-snapshot[_ngcontent-%COMP%]{position:fixed;border:2px solid #666}[hidden][_ngcontent-%COMP%]{display:none}"]})}return a})();var k=p(9918),x=p(12);function y(a,v){if(1&a){const e=t.EpF();t.TgZ(0,"a",9),t.NdJ("click",function(){const c=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.navigate(u.getListLink(c)))}),t._uU(1),t.qZA()}if(2&a){const e=v.$implicit;t.xp6(1),t.hij(" ",e," ")}}const $=[{path:"",component:k.r,children:[{path:"grid/:page",component:s},{path:"libar/:page",component:T,outlet:"sidebar"}]},{path:"lists/:listName",component:k.r,children:[{path:"grid/:page",component:s},{path:"libar/:page",component:(()=>{class a{constructor(e,n,r,c,u){this.activatedRoute=e,this.libraryStore=n,this.router=r,this.storageApi=c,this.projListApi=u,this.maxPage=0,this.currentPage=0,this.listName=null,this.projectLists=[]}ngOnInit(){this.pageSize=12,this.showPeek=!1,this.activatedRoute.parent.paramMap.subscribe(e=>{this.listName=e.get("listName")}),this.activatedRoute.params.subscribe(e=>{this.currentPage=+e.page,this.sub=this.libraryStore.maxProjectCount$.pipe((0,w.h)(n=>null!==n)).subscribe(n=>{null!==n&&this.setMaxPage(n)}),this.libraryStore.pageNumber$.next(this.currentPage),this.projListApi.getGroupLists("").subscribe(n=>{this.projectLists=n})}),this.hasWork=this.hasSavedWork()}setMaxPage(e){const n=Math.ceil(e/this.pageSize);this.maxPage=n-1}pageRight(){this.router.navigateByUrl(`/library/lists/${this.listName}/(grid/${this.currentPage+1}//sidebar:libar/${this.currentPage+1})`)}pageLeft(){this.router.navigateByUrl(`/library/lists/${this.listName}/(grid/${this.currentPage-1}//sidebar:libar/${this.currentPage-1})`)}hasSavedWork(){return null!==this.storageApi.get(_.H3)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}peekStorage(){var e=this;return(0,b.Z)(function*(){e.peekProj=e.peekProj??(yield e.storageApi.get(_.H3))})()}navigate(e){this.router.navigateByUrl(e)}getListLink(e){return"library/lists/"+e.toLowerCase().replace(/\s/g,"-")+"/(grid/0//sidebar:libar/0)"}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(m.gz),t.Y36(f),t.Y36(m.F0),t.Y36(C.$y),t.Y36(x.e))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["da-library-list-bar"]],decls:14,vars:7,consts:[[1,"sidebar"],[1,"libar-container"],["name","arrow-circle-left","inverse","true",1,"fa","fa-arrow-circle-left","fa-2x","pointer","enabled-a",3,"hidden","click"],["name","arrow-circle-left","inverse","true",1,"fa","fa-arrow-circle-left","fa-2x","pointer","disabled-a",3,"hidden"],[1,"page-label"],["inverse","true",1,"fa","fa-arrow-circle-right","fa-2x","pointer","enabled-a",3,"hidden","click"],["inverse","true",1,"fa","fa-arrow-circle-right","fa-2x","pointer","disabled-a",3,"hidden"],[1,"project-list-title"],["class","btn btn-secondary",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-secondary",3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"i",2),t.NdJ("click",function(){return r.pageLeft()}),t.qZA(),t._UZ(3,"i",3),t.TgZ(4,"div",4)(5,"div"),t._uU(6,"Navigate Examples"),t.qZA(),t.TgZ(7,"div"),t._uU(8),t.qZA()(),t.TgZ(9,"i",5),t.NdJ("click",function(){return r.pageRight()}),t.qZA(),t._UZ(10,"i",6),t.qZA(),t.TgZ(11,"div",7),t._uU(12,"Project Lists"),t.qZA(),t.YNc(13,y,2,1,"a",8),t.qZA()),2&n&&(t.xp6(2),t.Q6J("hidden",+r.currentPage<1),t.xp6(1),t.Q6J("hidden",+r.currentPage>0),t.xp6(5),t.AsE("Page ",r.currentPage," / ",r.maxPage,""),t.xp6(1),t.Q6J("hidden",+r.currentPage>=r.maxPage),t.xp6(1),t.Q6J("hidden",+r.currentPage<r.maxPage),t.xp6(3),t.Q6J("ngForOf",r.projectLists))},dependencies:[d.sg],styles:[".sidebar[_ngcontent-%COMP%]{text-align:center;width:100%;color:#fff;display:flex;align-items:center;flex-direction:column}.sidebar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin:1px}.libar-container[_ngcontent-%COMP%]{display:flex}.libar-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:3px}.disabled-a[_ngcontent-%COMP%]{color:#999}.peek[_ngcontent-%COMP%]{margin-right:7px}cp-arrow-snapshot[_ngcontent-%COMP%]{position:fixed;border:2px solid #666}[hidden][_ngcontent-%COMP%]{display:none}.project-list-title[_ngcontent-%COMP%]{padding:20px 0 10px}"]})}return a})(),outlet:"sidebar"}]}];let J=(()=>{class a{static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275mod=t.oAB({type:a});static#r=this.\u0275inj=t.cJS({imports:[m.Bz.forChild($),m.Bz]})}return a})();var B=p(1281);let U=(()=>{class a{static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275mod=t.oAB({type:a});static#r=this.\u0275inj=t.cJS({imports:[d.ez,J,B.E]})}return a})()}}]);