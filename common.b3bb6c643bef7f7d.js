"use strict";(self.webpackChunkcritical_web=self.webpackChunkcritical_web||[]).push([[592],{12:(C,h,c)=>{c.d(h,{e:()=>e});var t=c(9862),m=c(7631),p=c(3830),_=c(9500),f=c(9212);let e=(()=>{class n{constructor(r){this.httpClient=r,this.baseUrl=m.N.criticalPathApi}getProjectLists(r){return this.httpClient.get((0,_.Z)(this.baseUrl,p.cP,r.toString()))}getGroupLists(r){const l=(new t.LE).set("filterTxt",r||"");return this.httpClient.get((0,_.Z)(this.baseUrl,p.xr),{params:l})}processProjectList(r,l){const s=JSON.stringify(l),i=(new t.WM).set("Content-Type","application/json");return this.httpClient.post((0,_.Z)(this.baseUrl,p.w1,r.toString()),s,{headers:i})}static#t=this.\u0275fac=function(l){return new(l||n)(f.LFG(t.eN))};static#e=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()},6724:(C,h,c)=>{c.d(h,{V:()=>n});var t=c(6814),m=c(6223),p=c(5616),_=c(617),f=c(3680),e=c(9212);let n=(()=>{class o{static#t=this.\u0275fac=function(s){return new(s||o)};static#e=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({imports:[t.ez,m.u5,p.FA,f.XK,_.Ps]})}return o})()},2671:(C,h,c)=>{c.d(h,{D:()=>s});var t=c(9212),m=c(4403),p=c(4156),_=c(2596),f=c(6814);function e(i,v){if(1&i){const a=t.EpF();t.TgZ(0,"i",17),t.NdJ("click",function(){t.CHM(a);const d=t.oxw();return t.KtG(d.isSelFileType=!1)}),t.qZA()}}function n(i,v){if(1&i){const a=t.EpF();t.TgZ(0,"i",18),t.NdJ("click",function(){t.CHM(a);const d=t.oxw();return t.KtG(d.isSelFileType=!0)}),t.qZA()}}function o(i,v){if(1&i){const a=t.EpF();t.TgZ(0,"div",21)(1,"input",24),t.NdJ("change",function(){t.CHM(a);const d=t.oxw(2);return t.KtG(d.fileType="electron-save")}),t.qZA(),t.TgZ(2,"label",25),t._uU(3,"sql"),t.qZA()()}if(2&i){const a=t.oxw(2);t.xp6(1),t.Q6J("checked","electron-save"===a.fileType)}}const r=i=>({height:i});function l(i,v){if(1&i){const a=t.EpF();t.TgZ(0,"div",19),t.YNc(1,o,4,1,"div",20),t.TgZ(2,"div",21)(3,"input",22),t.NdJ("change",function(){t.CHM(a);const d=t.oxw();return t.KtG(d.fileType="json")}),t.qZA(),t.TgZ(4,"label",23),t._uU(5,"json"),t.qZA()(),t.TgZ(6,"div",21)(7,"input",24),t.NdJ("change",function(){t.CHM(a);const d=t.oxw();return t.KtG(d.fileType="xslx")}),t.qZA(),t.TgZ(8,"label",25),t._uU(9,"xlsx"),t.qZA()()()}if(2&i){const a=t.oxw();t.Q6J("ngStyle",t.VKq(4,r,a.saveMenuHeight)),t.xp6(1),t.Q6J("ngIf",a.allowSave),t.xp6(2),t.Q6J("checked","json"===a.fileType),t.xp6(4),t.Q6J("checked","xlsx"===a.fileType)}}let s=(()=>{class i{constructor(a){this.envService=a,this.disableButtons=!1,this.save=new t.vpe,this.load=new t.vpe,this.showHelp=!1,this.fileType=m.S6.XLSX,this.isSelFileType=!1,this.resourceCount=null,this.allowSave=!1,this.saveMenuHeight="50px",this.allowSave=this.envService.isElectron,this.saveMenuHeight=this.allowSave?"70px":"50px"}saveDataTo(){this.save.emit(this.fileType)}loadFile(a){const g=a.files,d=g.item(0);null!==d&&g.length>0&&this.load.emit(d)}static#t=this.\u0275fac=function(g){return new(g||i)(t.Y36(p.L))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["da-file-action-buttons"]],inputs:{disableButtons:"disableButtons"},outputs:{save:"save",load:"load"},decls:77,vars:9,consts:[[1,"btn","btn-secondary",3,"click"],["type","file","accept",".xlsx, .json",1,"file-input",3,"change"],["uploadFile",""],[1,"right"],["matTooltip","Go to Parent to enable buttons. Your changes will be preserved.",3,"matTooltipDisabled"],["tooltip","matTooltip"],["title","Download as file or save to database",1,"btn","btn-primary",3,"click"],["href","javascript:void(0)",1,"btn","pos-rel"],["class","fas fa-chevron-up",3,"click",4,"ngIf"],["class","fas fa-chevron-down",3,"click",4,"ngIf"],["class","peek file-types",3,"ngStyle",4,"ngIf"],[1,"btns"],[1,"fas","fa-times"],[1,"fas","fa-question-circle","help-btn",3,"click"],[1,"help",3,"hidden"],[1,"fa","fa-times","help-close",3,"click"],[1,"help-list"],[1,"fas","fa-chevron-up",3,"click"],[1,"fas","fa-chevron-down",3,"click"],[1,"peek","file-types",3,"ngStyle"],["class","custom-control custom-radio",4,"ngIf"],[1,"custom-control","custom-radio"],["type","radio","id","multi","name","create","value","multi",1,"custom-control-input",3,"checked","change"],["for","multi",1,"custom-control-label"],["type","radio","id","arrange",1,"custom-control-input",3,"checked","change"],["for","arrange",1,"custom-control-label"]],template:function(g,d){if(1&g){const u=t.EpF();t.TgZ(0,"button",0),t.NdJ("click",function(){t.CHM(u);const b=t.MAs(3);return b.value="",t.KtG(b.click())}),t._uU(1,"Load from File"),t.qZA(),t.TgZ(2,"input",1,2),t.NdJ("change",function(b){return d.loadFile(b.target)}),t.qZA(),t.TgZ(4,"div",3)(5,"div",4,5)(7,"button",6),t.NdJ("click",function(){return d.saveDataTo()}),t._uU(8,"Save to"),t.qZA(),t.TgZ(9,"a",7),t.YNc(10,e,1,0,"i",8)(11,n,1,0,"i",9)(12,l,10,6,"div",10),t.qZA()(),t.TgZ(13,"div",11),t._UZ(14,"i",12),t.TgZ(15,"i",13),t.NdJ("click",function(){return d.showHelp=!d.showHelp}),t.qZA(),t.TgZ(16,"div",14)(17,"i",15),t.NdJ("click",function(){return d.showHelp=!d.showHelp}),t.qZA(),t.TgZ(18,"h4"),t._uU(19,"Help"),t.qZA(),t.TgZ(20,"ol",16)(21,"li")(22,"b"),t._uU(23,"Create Node:"),t.qZA(),t._uU(24," Double click on arrow diagram background"),t.qZA(),t.TgZ(25,"li")(26,"b"),t._uU(27,"Move Node:"),t.qZA(),t._uU(28," Hold Ctrl key + drag node. (On Mac: Hold Command key + drag node)"),t.qZA(),t.TgZ(29,"li")(30,"b"),t._uU(31,"Create Arrow:"),t.qZA(),t._uU(32," Single click on one node and drag to another"),t.qZA(),t.TgZ(33,"li")(34,"b"),t._uU(35,"Select / Deselect Node:"),t.qZA(),t._uU(36," Click on node"),t.qZA(),t.TgZ(37,"li")(38,"b"),t._uU(39,"Select / Deselect Arrow:"),t.qZA(),t._uU(40," Click on Arrow body or Click on Text above arrow."),t.qZA(),t.TgZ(41,"li")(42,"b"),t._uU(43,"Delete Node / Arrow:"),t.qZA(),t._uU(44," Click to select node / arrow, press Delete (Command + Delete on Mac)"),t.qZA(),t.TgZ(45,"li")(46,"b"),t._uU(47,"Join two Nodes:"),t.qZA(),t._uU(48," Drag one Node over another and release."),t.qZA(),t.TgZ(49,"li")(50,"b"),t._uU(51,"Split Node:"),t.qZA(),t._uU(52," Click to select a Node with multiple in / out arrows then press Ctrl + X keys (Command + X keys on Mac)"),t.qZA(),t.TgZ(53,"li")(54,"b"),t._uU(55,"Make Node Dummy:"),t.qZA(),t._uU(56," Click to select Node and press Ctrl + D keys.(Command + D keys on Mac)"),t.qZA(),t.TgZ(57,"li")(58,"b"),t._uU(59,"Make Node Milestone:"),t.qZA(),t._uU(60," Click to select Node and press Ctrl + M keys.(Command + M keys on Mac)"),t.qZA(),t.TgZ(61,"li")(62,"b"),t._uU(63,"Load Sub Project:"),t.qZA(),t._uU(64," Click to select an Arrow with a '*' in the text above arrow. Click on 'Load Sub Graph' button in selected Activity info on left hand side "),t.qZA(),t.TgZ(65,"li")(66,"b"),t._uU(67,"Pan the arrow chart:"),t.qZA(),t._uU(68," Single click and drag background"),t.qZA(),t.TgZ(69,"li")(70,"b"),t._uU(71,"Initalize Risk:"),t.qZA(),t._uU(72," To calculate the arrow diagram risk, add start / end nodes in the lower right hand corner. To auto set the start and end nodes click 'Calculate Risk' "),t.qZA(),t.TgZ(73,"li")(74,"b"),t._uU(75,"Arrange Nodes:"),t.qZA(),t._uU(76," To arrange the nodes in a readable format click the 'Arrange Nodes' button to the bottom left of the arrow diagram "),t.qZA()()()()()}2&g&&(t.ekj("disabled",d.disableButtons),t.xp6(5),t.Q6J("matTooltipDisabled",!d.disableButtons),t.xp6(2),t.ekj("disabled",d.disableButtons),t.xp6(3),t.Q6J("ngIf",d.isSelFileType),t.xp6(1),t.Q6J("ngIf",!d.isSelFileType),t.xp6(1),t.Q6J("ngIf",d.isSelFileType),t.xp6(4),t.Q6J("hidden",!d.showHelp))},dependencies:[_.gM,f.O5,f.PC],styles:["[_nghost-%COMP%]{width:253px;display:flex}.btn-secondary[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:2px;background-color:#f9f9f9;color:#666}.btn-secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#5a6268;border-color:#545b62}.btn[_ngcontent-%COMP%]{font-size:.87rem}.border-right[_ngcontent-%COMP%]{border-right:1px solid #333}.stash[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#45f}div.right[_ngcontent-%COMP%]{display:flex;flex-direction:row}div.right[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 7px}div.file-types[_ngcontent-%COMP%]{display:block}.right[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 5px}.stash[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0}.btns[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.btns[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-top:3px}.help-btn[_ngcontent-%COMP%]{color:#999;cursor:pointer}.peek[_ngcontent-%COMP%]{width:410px;height:270px;position:absolute;border:1px solid #e9e9e9;z-index:1;background-color:#f9f9f9;top:38px;display:flex;align-items:center;justify-content:center}.file-types[_ngcontent-%COMP%]{width:88px;height:70px;position:absolute;border:1px solid #e9e9e9;z-index:1;background-color:#f9f9f9;top:34px;margin-left:-20px}.stash[_ngcontent-%COMP%], .pos-rel[_ngcontent-%COMP%]{position:relative}.help[_ngcontent-%COMP%]{position:absolute;top:18px;right:0;width:400px;height:auto;background-color:#fff;border-radius:5px;z-index:1000;padding:20px;box-shadow:1px 3px 5px #0000006b}.help[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{position:absolute;padding-top:10px}.help-container[_ngcontent-%COMP%]{position:relative}.help-close[_ngcontent-%COMP%]{position:absolute;right:13px;cursor:pointer;top:13px}.help-pointer[_ngcontent-%COMP%]{cursor:pointer;color:#999}.help-list[_ngcontent-%COMP%]{padding:55px 49px 35px}.alert-msg[_ngcontent-%COMP%]{background:#4a4;border:1px solid #ddd;position:fixed;height:70px;width:102px;text-align:center;vertical-align:center;padding-top:19px;left:50%;color:#fff;top:50%;font-size:18px;border-radius:15px;z-index:2000}.saved[_ngcontent-%COMP%]{background:#4a4;border:1px solid #ddd}.error[_ngcontent-%COMP%]{background:#a44;border:1px solid #ddd}.save-proj[_ngcontent-%COMP%]{display:inline}a.btn-primary[_ngcontent-%COMP%]{color:#fff}.top-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.overlay[_ngcontent-%COMP%]{position:fixed;width:100vw;height:100vh;inset:0;color:#fff;background-color:#00000080;z-index:100000;cursor:pointer}.overlay-txt[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:20px;font-weight:700}.btn-secondary.disabled[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]:disabled{color:#fff;background-color:#6c757d;border-color:#6c757d}.file-input[_ngcontent-%COMP%]{display:none}.baseline[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}.auto-resources[_ngcontent-%COMP%]{width:42px;height:30px;border:1px solid #ccc;text-align:right}.btn-row[_ngcontent-%COMP%]   div.baseline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 2px}"]})}return i})()},5488:(C,h,c)=>{c.d(h,{L:()=>e});var t=c(6814),m=c(6223),p=c(2596),_=c(7586),f=c(9212);let e=(()=>{class n{static#t=this.\u0275fac=function(l){return new(l||n)};static#e=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({imports:[p.AV,m.u5,t.ez,_.Bz]})}return n})()},3148:(C,h,c)=>{c.d(h,{c:()=>p});var t=c(9212),m=c(325);let p=(()=>{class _{constructor(e){this.colorFactory=e}addTagGroup(e,n,o){e.tags||(e.tags=[]),o=Array.from(new Set(o));const r=e.tags.length,l=this.colorFactory.getSchemeByIndex(0),s=l.colors[r%l.colors.length],i=this.colorFactory.getSchemeByIndex(r),v=o.map((g,d)=>{const u=i.colors[d%i.colors.length];return{name:g,color:u.color,backgroundcolor:u.backgroundcolor}});e.tags.push({color:s.color,backgroundcolor:s.backgroundcolor,name:n,tags:v})}addTagGroupToProject(e,n){e.tags=e.tags??[],e.tags=e.tags.filter(o=>o.name!==n.name),e.tags.push({name:n.name,tags:n.tags.map(o=>({name:o.name,color:o.color,backgroundcolor:o.backgroundcolor})),color:n.color,backgroundcolor:n.backgroundcolor})}removeTagFromActivities(e,n,o){e.activities.forEach(r=>{if(r.tags){const l=r.tags.find(s=>s.name===n);l&&(l.tags=l.tags.filter(s=>s.name!==o.name))}})}removeTagGroupFromProject(e,n){e.tags&&(e.tags=e.tags.filter(o=>o.name!==n.name),e.activities.forEach(o=>{o.tags=o.tags??[],o.tags=o.tags.filter(r=>r.name!==n.name)}),e.profile.view.selectedTagGroup===n.name&&(e.profile.view.selectedTagGroup=null),e.tags=e.tags?.filter(o=>o.name!==n.name))}addNewTagGroup(e,n){e.tags||(e.tags=[]);const o=e.tags.length,r=this.colorFactory.getSchemeByIndex(0),l=r.colors[o%r.colors.length];e.tags.push({color:l.color,backgroundcolor:l.backgroundcolor,name:n,tags:[]})}createNewTag(e,n,o){const r=e.tags?.findIndex(a=>a.name===n)??0,l=this.colorFactory.getSchemeByIndex(r),s=e.tags?.find(a=>a.name===n)?.tags?.length??0,i=l.colors[s%l.colors.length];return{name:o,color:i.color,backgroundcolor:i.backgroundcolor}}addTagToActivities(e,n,o,r){if(!e.tags?.find(s=>s.name===o)&&e.tags){this.addNewTagGroup(e,o);const s=this.createNewTag(e,o,n);e.tags.find(i=>i.name===o)?.tags?.push(s)}r.forEach(s=>{const i=s.tags?.find(u=>u.name===o);if(i?.tags?.find(u=>u.name===n))return;const a=e?.tags?.find(u=>u.name===o)?.tags.find(u=>u.name===n),g={name:n,color:a?.color??"black",backgroundcolor:a?.backgroundcolor??"white"};if(i)return void i.tags.push(g);const d={name:o,tags:[g]};s.tags=s.tags??[],s.tags.push(d)})}assignTagsToSelectedActivities(e,n,o){const r=e.profile.view?.lassoedLinks,l=o.tags.filter(s=>n.indexOf(s.name)>-1);r?.length>0&&e.activities.filter(i=>r.indexOf(i.profile.id)>-1).forEach(i=>{const v={name:o.name,tags:l.map(a=>({name:a.name,color:a.color,backgroundcolor:a.backgroundcolor}))};i.tags=i.tags??[],i.tags=i.tags.filter(a=>a.name!==o.name),i.tags.push(v)}),this.clearLasso(e)}unassignFromActivities(e,n){const o=n.profile.view?.lassoedLinks;o?.length>0&&n.activities.filter(l=>o.indexOf(l.profile.id)>-1).forEach(l=>{l.tags&&(l.tags=l.tags.filter(s=>s.name!=e))}),this.clearLasso(n)}clearLasso(e){e.profile.view.lassoStart=null,e.profile.view.lassoEnd=null,e.profile.view.lassoedLinks=[],e.profile.view.lassoedNodes=[],e.profile.view.isSubProjSelected=!1}loadTags(e,n){let o=[],r=[],l=null;e.tags&&(o=e.tags.map(s=>({name:s.name,backgroundcolor:s.backgroundcolor,color:s.color,isSelected:e.profile.view.selectedTagGroup===s.name})),r=e.tags.map(s=>({name:s.name,tags:s.tags?.map(i=>({name:i.name,color:i.color,backgroundcolor:i.backgroundcolor,isSelected:!1}))})),e.profile.view.selectedTagGroup&&(l=r.find(s=>s.name===e.profile.view.selectedTagGroup)??null)),n.tags=o,n.groups=r,n.activeGroup=l}static#t=this.\u0275fac=function(n){return new(n||_)(t.LFG(m.r))};static#e=this.\u0275prov=t.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()}}]);